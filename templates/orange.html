<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>orange</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="/static/orange.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Jua', sans-serif;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            show_comment();
            show_boss()
            show_bossKill()
        });

        function show_comment() {
            $.ajax({
                type: 'GET',
                url: '/orange/show',
                data: {},
                success: function (response) {
                    let rows = response['comments']
                    for(let i = 0; i < rows.length; i++){
                        let name = rows[i]['name']
                        let comment = rows[i]['comment']
                        let num = rows[i]['num']

                        let temp_html = `<div id="${num}" class="commentbox">
                                            <div>
                                                <p>${comment}</p>
                                                <footer class="blockquote-footer">${name}</footer>
                                            </div>
                                            <div>
                                                <input type="password" class="form-control" placeholder="в╣ёв░ђв▓ѕьўИ">
                                                <button onclick= "crt_comment(${num})" type="button" class="btn btn-dark"> ВѕўВаЋьЋўЖИ░ </button>
                                                <button onclick= "delete_comment(${num})" type="button" class="btn btn-dark"> ВѓГВаюьЋўЖИ░ </button>
                                            </div>
                                        </div>`
                        $('#comment-list').append(temp_html)
                    }
                }
            });
        }
        function show_boss(){
            $.ajax({
                type: 'GET',
                url: `/boss/hp`,
                data: {},
                success: function (response) {
                    let hp = response['hp']
                    let hpp = hp.toFixed(2)

                    let temp_html = `Вќ┤вфйВќ┤Віц HP 100/${hpp}`
                        $('#bossHp').append(temp_html)
                }
            });
        }

        function show_bossKill(){
            $.ajax({
                type: 'GET',
                url: `/boss/killlog`,
                data: {},
                success: function (response) {
                    let rows = response['kill_list']


                    for(let i = 0; i < rows.length; i++){
                        let name = rows[i]['name']
                        let count = rows[i]['killcount']
                        let html = rows[i]['killhtml']

                        let temp_html = `<p id = "bosslog">
                                            <span style="color: blue"><a href="${html}" target="_blank">${name}</a></span> вІўВЮ┤ <span style="color: red">${count}</span> в▓ѕВДИвАю Вќ┤вфйВќ┤ВіцвЦ╝ В▓ўВ╣ўьќѕВіхвІѕвІц.
                                        </p>`
                        $('#bossloglist').append(temp_html)
                    }
                }
            });
        }

        function crt_comment(num){
            let correction = prompt("вѓ┤ВџЕ ВъЁваЦ");
            let crtp = document.getElementById(num.toString()).querySelector("input").value

            $.ajax({
                type: "POST",
                url: "/correction",
                data: { correction_give :correction ,crtn_give : num, crtp_give : crtp},
                success: function (response) {
                    alert(response["msg"])
                    window.location.reload()
                }
            });
        }

        function delete_comment(num){
            let deletepw = document.getElementById(num.toString()).querySelector("input").value
            $.ajax({
                type: "POST",
                url: "/orange/delete",
                data: {deletepw_give:deletepw, num_give : num},
                success: function (response) {
                    alert(response["msg"])
                    window.location.reload()
                }
            });
        }

        function save_comment() {
            let name = $('#name').val()
            let comment = $('#comment').val()
            let pw = $('#pw').val()

            $.ajax({
                type: 'POST',
                url: '/orange/save',
                data: { name_give : name, comment_give : comment, pw_give : pw},
                success: function (response) {
                    alert(response['msg'])
                    window.location.reload()
                }
            });
        }

        function skillDmg(callback) {
            let randomDmg = Math.random() * 10
            let dmg = randomDmg.toFixed(2)

            callback(dmg)

            $.ajax({
                type: 'POST',
                url: `/boss/dmg`,
                data: {dmg_give : dmg},
                success: function (response) {
                    let row = response['boss_hp']
                    console.log(row)
                    if(row == undefined){
                        let killcount = response['bosskill']
                        let killname = prompt(`${killcount}в▓ѕВДИвАю Вќ┤вфйВќ┤ВіцвЦ╝ В▓ўВ╣ўьќѕВіхвІѕвІц ВЮ┤вдёВЮё ВъЁваЦьЋўВёИВџћ`)
                        while (killname == ''){
                            alert('ВЮ┤вдёВЮё ВъЁваЦьЋўВёИВџћ')
                            killname = prompt(`${killcount}в▓ѕВДИвАю Вќ┤вфйВќ┤ВіцвЦ╝ В▓ўВ╣ўьќѕВіхвІѕвІц ВЮ┤вдёВЮё ВъЁваЦьЋўВёИВџћ`)
                        }
                        let killhtml = prompt('вИћвАюЖиИ в░Ј SNS ВБ╝ВєївЦ╝ ВъЁваЦьЋўВёИВџћ')
                        while (killhtml == ''){
                            alert('ВБ╝ВєївЦ╝ ВъЁваЦьЋўВёИВџћ')
                            killhtml = prompt('вИћвАюЖиИ в░Ј SNS ВБ╝ВєївЦ╝ ВъЁваЦьЋўВёИВџћ')
                        }

                        $.ajax({
                            type: 'POST',
                            url: '/boss/kill',
                            data: {name_give: killname , killnum_give : killcount, killhtml_give : killhtml},
                            success: function (response) {
                                alert(response['msg'])
                                window.location.reload()
                            }
                        });

                    }else {
                        let bossHp = row['bossHp']
                        alert(`в│┤ВіцВ▓┤ваЦВЮ┤ ${bossHp} вДїьЂ╝ вѓеВЋўВіхвІѕвІц`)
                        window.location.reload()
                    }

                }
            });
        }

        function skillheal(callback) {
            let randomHeal = Math.random() * 10
            let heal = randomHeal.toFixed(2)

            callback(heal)

            $.ajax({
                type: 'POST',
                url: `/boss/heal`,
                data: {heal_give : heal},
                success: function (response) {
                    let row = response['boss_hp']
                    let bossHp = row['bossHp'].toFixed(2)
                    alert(`в│┤ВіцВ▓┤ваЦВЮ┤ ${bossHp} вДїьЂ╝ вѓеВЋўВіхвІѕвІц`)
                    window.location.reload()
                }
            });
        }

        function icespear(dmg) {
            if (dmg >= 8) {
                alert('icespearЖ░ђ ' + dmg + 'ВЮў ьЂгвдгьІ░В╗г вЇ░в»ИВДђвЦ╝ ВБ╝ВЌѕВіхвІѕвІц')
            } else {
                alert('icespearЖ░ђ ' + dmg + 'ВЮў вЇ░в»ИВДђвЦ╝ ВБ╝ВЌѕВіхвІѕвІц')
            }
        }

        function fireball(dmg) {
            if (dmg >= 8) {
                alert('fireballВЮ┤ ' + dmg + 'ВЮў ьЂгвдгьІ░В╗г вЇ░в»ИВДђвЦ╝ ВБ╝ВЌѕВіхвІѕвІц')
            } else {
                alert('fireballВЮ┤ ' + dmg + 'ВЮў вЇ░в»ИВДђвЦ╝ ВБ╝ВЌѕВіхвІѕвІц')
            }
        }

        function thunderbolt(dmg) {
            if (dmg >= 8) {
                alert('thunderboltЖ░ђ ' + dmg + 'ВЮў ьЂгвдгьІ░В╗г вЇ░в»ИВДђвЦ╝ ВБ╝ВЌѕВіхвІѕвІц')
            } else {
                alert('thunderboltЖ░ђ ' + dmg + 'ВЮў вЇ░в»ИВДђвЦ╝ ВБ╝ВЌѕВіхвІѕвІц')
            }
        }

        function bossheal(dmg) {
            if (dmg >= 8) {
                alert('в│┤ВіцВЮў В▓┤ваЦВЮ┤ ' + dmg + 'вДїьЂ╝ ьЂгЖ▓ї ьџїв│х вљўВЌѕВіхвІѕвІц')
            } else {
                alert('в│┤ВіцВЮў В▓┤ваЦВЮ┤ ' + dmg + 'вДїьЂ╝ ьџїв│х вљўВЌѕВіхвІѕвІц')
            }
        }
    </script>
</head>
<body>
    <div class="ground">
        <div class="gradient-border">
            <h1 class="h1border">ВЮ┤вдё : ВўцЖИИьЎў</h1>
            <div id="introgrid">
                <img src="/static/myimg.jpg" width="200px"  alt="ВъљЖИ░ВєїЖ░ю ВЮ┤в»ИВДђ">
                <div id="introduction">
                    ВЋѕвЁЋьЋўВёИВџћ Вађвіћ ьїђВЌљВёю ВБ╝ьЎЕВЃЅВЮё вДАЖ│а Въѕвіћ ВўцЖИИьЎўВъЁвІѕвІц<br>
                    Вађвіћ ВъЦв▓ћВцђВЮў вЁИвъўьЋўвЕ┤ вІцвЊц вќаВўгвдгВІювіћ ЖиИЖ││ ВЌгВѕўВЌљ Вѓ┤Ж│а ВъѕВіхвІѕвІц. ВЌгВѕў в░цв░ћвІц~<br>
                    ВйћвћЕВЮђ В▓ўВЮїВЮ┤ВДђвДї вДѕВЮївДїВЮђ ВЮ┤в»И ВёИЖ│ё ВхюЖ│аВъЁвІѕвІц.<br>
                    ВЋёВДЂ вХђВА▒ьЋю Ж▓ї вДјЖ│а в░░ВЏїВЋ╝ ьЋа Ж▓ЃВЮ┤ вДјВДђвДї вЂЮЖ╣їВДђ вЁИваЦьЋ┤Вёю<br>
                    ьЏївЦГьЋю Ж░юв░юВъљЖ░ђ вљўВќ┤в│┤Ж▓аВіхвІѕвІц.<br>
                    вѓ┤в░░В║а 4ЖИ░ ьїїВЮ┤ьїЁ!!!
                </div>
            </div>
            <div id="mbtigrid">
                <div id="strength">
                    вѓўвДїВЮў ВъЦВаљ
                </div>
                <div id="mystrength">
                    ВЌ┤ВаЋВаЂВЮ┤Ж│а ьЎюв░юьЋўвЕ░ вћ░вю╗ьЋю ВЮ┤в»ИВДђвЦ╝ Ж░ђВАїВіхвІѕвІц. (ьъўвЊцЖ│а ВДђВ╣а вЋї вѓ┤Ж▓ї ЖИ░вїђ~ )
                </div>
                <div id="mystyle">
                    ьўЉВЌЁ ВіцьЃђВЮ╝
                </div>
                <div id="teamstyle">
                    ВаЂЖи╣ВаЂВю╝вАю ьўЉВЌЁВЌљ В░ИВЌгьЋўЖ│а ВбІВЮђ вХёВюёЖИ░вЦ╝ вДївЊцЖИ░ ВюёьЋ┤ вЁИваЦьЋЕвІѕвІц.
                </div>
                <div id="mbti">
                    MBTI : ENFP
                </div>
                <div id="mymbti">
                    вћ░вю╗ьЋўЖ│а ВаЋВЌ┤ВаЂВЮ┤Ж│а ьЎюЖИ░Ж░ђ вёўВ╣ўвЕ░ ВъгвіЦВЮ┤ вДјЖ│а ВЃЂВЃЂваЦВЮ┤ ьњЇвХђьЋЕвІѕвІц.
                </div>
            </div>
            <div class="snsgrid">
                <div id="snscomment">
                    SNS,BLOG ЖхгЖ▓йьЋўЖИ░
                </div>
                <div id="btnbolg">
                        <a href="https://5kiran.tistory.com/" target="_blank" class="btntstory">
                            <img src="/static/tstoryblog.png"
                                 alt="ьІ░Віцьєавдг вИћвАюЖиИ ВЮ┤вЈЎ" style="width: 40px"/>
                        </a>
                        <a href="https://blog.naver.com/ssses1" target="_blank" style="margin-left: 10px" class="btntstory">
                            <img src="/static/naverblog.png"
                                 alt="вёцВЮ┤в▓ё вИћвАюЖиИ ВЮ┤вЈЎ" style="width: 40px"/>
                        </a>
                        <a href="https://www.instagram.com/5__kiran/" target="_blank" style="margin-left: 10px" class="btntstory">
                            <img src="/static/instagram.png"
                                 alt="ВЮИВіцьЃђЖиИвъе ВЮ┤вЈЎ" style="width: 40px"/>
                        </a>
                </div>
            </div>
        </div>
        <div id="boss">
            <div id="bossbox">
                <div id="bossHp" style="font-size: 30px">
                </div>
                <br>
                <br>
                РађРађРађРађРађРађРађРађРађРађРађРБаРБцРБцРБцРБцРБцРБХРБдРБцРБёРАђРађ<br>
                РађРађРађРађРађРађРађРађРбђРБ┤РБ┐РА┐РаЏРаЅРаЎРаЏРаЏРаЏРаЏРа╗Рб┐РБ┐РБиРБцРађРађ<br>
                РађРађРађРађРађРађРађРађРБ╝РБ┐РаІРађРађРађРађРађРађРађРбђРБђРБђРаѕРб╗РБ┐РБ┐РАёРађРађ<br>
                РађРађРађРађРађРађРађРБИРБ┐РАЈРађРађРађРБаРБХРБЙРБ┐РБ┐РБ┐Ра┐Ра┐Ра┐Рб┐РБ┐РБ┐РБ┐РађРађ<br>
                РађРађРађРађРађРађРађРБ┐РБ┐РаЂРађРађРб░РБ┐РБ┐РБ»РаЂРађРађРађРађРађРађРађРаѕРаЎРб┐РБиРАёРађ<br>
                РађРађРБђРБцРБ┤РБХРБХРБ┐РАЪРађРађРађРбИРБ┐РБ┐РБ┐РБєРађРађРађРађРађРађРађРађРађРађРБ┐РБиРађ<br>
                РађРб░РБ┐РАЪРаІРаЅРБ╣РБ┐РАЄРађРађРађРаўРБ┐РБ┐РБ┐РБ┐РБиРБдРБцРБцРБцРБХРБХРБХРБХРБ┐РБ┐РБ┐Рађ<br>
                РађРбИРБ┐РАЄРађРађРБ┐РБ┐РАЄРађРађРађРађРа╣РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РБ┐РА┐РаЃРађ<br>
                РађРБИРБ┐РАЄРађРађРБ┐РБ┐РАЄРађРађРађРађРађРаЅРа╗Ра┐РБ┐РБ┐РБ┐РБ┐РА┐Ра┐Ра┐РаЏРб╗РБ┐РАЄРађРађ<br>
                РађРБ┐РБ┐РаЂРађРађРБ┐РБ┐РАЄРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбИРБ┐РБДРађРађ<br>
                РађРБ┐РБ┐РађРађРађРБ┐РБ┐РАЄРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбИРБ┐РБ┐РађРађ<br>
                РађРБ┐РБ┐РађРађРађРБ┐РБ┐РАЄРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбИРБ┐РБ┐РађРађ<br>
                РађРб┐РБ┐РАєРађРађРБ┐РБ┐РАЄРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбИРБ┐РАЄРађРађ<br>
                РађРаИРБ┐РБДРАђРађРБ┐РБ┐РАЄРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРБ┐РБ┐РаЃРађРађ<br>
                РађРађРаЏРб┐РБ┐РБ┐РБ┐РБ┐РБЄРађРађРађРађРађРБ░РБ┐РБ┐РБиРБХРБХРБХРБХРаХРађРбаРБ┐РађРађРађ<br>
                РађРађРађРађРађРађРађРБ┐РБ┐РађРађРађРађРађРБ┐РБ┐РАЄРађРБйРБ┐РАЈРаЂРађРађРбИРБ┐РАЄРађРађРађ<br>
                РађРађРађРађРађРађРађРБ┐РБ┐РађРађРађРађРађРБ┐РБ┐РАЄРађРб╣РБ┐РАєРађРађРађРБИРБ┐РаЄРађРађРађ<br>
                РађРађРађРађРађРађРађРб┐РБ┐РБдРБёРБђРБаРБ┤РБ┐РБ┐РаЂРађРаѕРа╗РБ┐РБ┐РБ┐РБ┐РА┐РаЈРађРађРађРађ<br>
                РађРађРађРађРађРађРађРаѕРаЏРа╗Ра┐Ра┐Ра┐Ра┐РаІРаЂРађРађРађРађРађРађРађРађРађРађРађРађРађРађ<br>
                <br>
                <br>
                <div>
                    ВЋёвъў в▓ёьі╝ВЮё ьЂ┤вдГьЋўВЌг Вќ┤вфйВќ┤ВіцВЌљЖ▓ї ВіцьѓгВЮё ВѓгВџЕ!!
                </div>
                <div id="bossbtn">
                    <button onclick=skillDmg(icespear) class="ice">icespear</button>
                    <button onclick=skillDmg(thunderbolt) class="thunder">thunderbolt</button>
                    <button onclick=skillDmg(fireball) class="fire">fireball</button>
                    <button onclick=skillheal(bossheal) class="heal">bossheal</button>
                </div>
            </div>
            <div id="bosskill" style="font-size: 40px">
                ­ЪЈєвфЁВўѕВЮў ВаёвІ╣­ЪЈє
                <p style="font-size: 20px">ВЮ┤вдёВЮё вѕёвЦ┤вЕ┤ вИћвАюЖиИ в░Ј SNSвАю ВЮ┤вЈЎьЋЕвІѕвІц</p>
            </div>
            <div id="bossloglist">
            </div>
        </div>
        <div class ="guest-border">
            <div id = "gusetbox">
                <div class="form-floating mb-3">
                    <input type="email" class="form-control" id="name" placeholder="nick"
                           style="width: 200px">
                    <label for="name">вІЅвёцВъё</label>
                    <div class="col-auto">
                        <label for="pw" class="visually-hidden">в╣ёв░ђв▓ѕьўИ</label>
                        <input type="password" class="form-control" id="pw" placeholder="в╣ёв░ђв▓ѕьўИ">
                    </div>
                </div>
                <div class="form-floating">
                    <textarea class="form-control" placeholder="Leave a comment here" id="comment"
                              style="height: 105px"></textarea>
                    <label for="comment">ВЮЉВЏљВЮё вѓеЖ▓еВБ╝ВёИВџћ</label>
                </div>
            </div>
            <button onclick= "save_comment()" type="button" class="btn btn-dark"> вЊ▒вАЮьЋўЖИ░ </button>
            <div id="comment-list">
            </div>
        </div>
    </div>
</body>
</html>